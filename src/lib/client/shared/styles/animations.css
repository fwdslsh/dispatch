/* Common CSS Animations - Extracted from .svelte files */

/* Animations */
@keyframes pulse {
	0%,
	100% {
		opacity: 0.7;
	}

	50% {
		opacity: 0.4;
	}
}

@keyframes fadeInUp {
	from {
		opacity: 0;
		transform: translateY(10px);
	}

	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes statusSweep {
	0% {
		transform: translateX(-100%);
	}

	100% {
		transform: translateX(100%);
	}
}

/* Basic fade animations */
@keyframes fadeIn {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

.fade-in {
	animation: fadeIn 0.4s ease-in;
}

@keyframes fadeInOut {
	0%,
	100% {
		opacity: 0.05;
	}

	50% {
		opacity: 0.1;
	}
}

/* Slide animations */
@keyframes slideIn {
	from {
		transform: scale(0.9) translateY(-20px);
		opacity: 0;
	}

	to {
		transform: scale(1) translateY(0);
		opacity: 1;
	}
}

@keyframes slideInFromLeft {
	from {
		opacity: 0;
		transform: translateX(-20px) scale(0.8);
	}

	to {
		opacity: 1;
		transform: translateX(0) scale(1);
	}
}

@keyframes slideInScale {
	0% {
		opacity: 0;
		transform: scale(0.9) translateY(10px);
	}

	100% {
		opacity: 1;
		transform: scale(1) translateY(0);
	}
}

@keyframes messageSlideIn {
	from {
		opacity: 0;
		transform: translateY(20px);
	}

	to {
		opacity: 1;
		transform: translateY(0);
	}
}

/* Pulse animations */
@keyframes statusPulse {
	0%,
	100% {
		opacity: 1;
	}

	50% {
		opacity: 0.6;
	}
}

@keyframes pulse-dot {
	0%,
	100% {
		box-shadow: 0 0 8px color-mix(in oklab, var(--primary) 60%, transparent);
	}

	50% {
		box-shadow: 0 0 15px color-mix(in oklab, var(--primary) 90%, transparent);
	}
}

@keyframes loadingPulse {
	0%,
	100% {
		opacity: 0.7;
	}

	50% {
		opacity: 1;
	}
}

@keyframes avatarPulse {
	0%,
	100% {
		transform: scale(1);
		box-shadow:
			0 8px 32px -12px var(--primary-glow),
			inset 0 2px 4px color-mix(in oklab, var(--primary) 15%, transparent),
			0 0 0 1px color-mix(in oklab, var(--primary) 10%, transparent);
	}

	50% {
		transform: scale(1.05);
		box-shadow:
			0 12px 40px -8px var(--primary-glow),
			inset 0 2px 8px color-mix(in oklab, var(--primary) 20%, transparent),
			0 0 0 2px color-mix(in oklab, var(--primary) 20%, transparent);
	}
}

@keyframes pulseRing {
	0%,
	60%,
	100% {
		transform: scale(1);
		opacity: 0.6;
	}

	30% {
		transform: scale(1.4);
		opacity: 1;
	}
}

@keyframes typingPulse {
	0%,
	100% {
		opacity: 0.6;
	}

	50% {
		opacity: 1;
	}
}

/* Spin/rotate animations */
@keyframes spin {
	from {
		transform: rotate(0deg);
	}

	to {
		transform: rotate(360deg);
	}
}

/* Scan/sweep animations - unified single animation */
@keyframes scan {
	0% {
		transform: translateX(-100%);
	}

	100% {
		transform: translateX(100%);
	}
}

/* Shimmer/glow animations */
@keyframes shimmer {
	0% {
		background-position: -200% 0;
	}

	100% {
		background-position: 200% 0;
	}
}

/* Bounce/movement animations */
@keyframes typingBounce {
	0%,
	60%,
	100% {
		transform: translateY(0);
		opacity: 0.4;
	}

	30% {
		transform: translateY(-12px);
		opacity: 1;
		background: var(--accent-cyan);
		box-shadow:
			0 12px 20px -8px var(--primary-glow),
			0 0 12px var(--primary-glow);
	}
}

/* Expand/scale animations */
@keyframes expandIn {
	from {
		opacity: 0;
		transform: scaleY(0.8) translateY(-20px);
	}

	to {
		opacity: 1;
		transform: scaleY(1) translateY(0);
	}
}

/* Shake/error animations */
@keyframes errorShake {
	0%,
	100% {
		transform: translateX(0);
	}

	10%,
	30%,
	50%,
	70%,
	90% {
		transform: translateX(-2px);
	}

	20%,
	40%,
	60%,
	80% {
		transform: translateX(2px);
	}
}

/* Cursor blink animation */
@keyframes cursorBlink {
	0%,
	50% {
		opacity: 1;
	}

	51%,
	100% {
		opacity: 0;
	}
}

/* ================================================================
   WINDOW MANAGER SPECIFIC ANIMATIONS
   Professional micro-interactions for tiling interface
   ================================================================ */

/* Tile focus animations */
@keyframes tile-focus-appear {
	from {
		box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
		border-color: var(--line);
	}

	to {
		box-shadow:
			0 0 0 2px var(--primary-glow),
			0 4px 12px rgba(0, 0, 0, 0.15);
		border-color: var(--accent);
	}
}

@keyframes tile-focus-pulse {
	0%,
	100% {
		box-shadow:
			0 0 0 2px var(--primary-glow),
			0 4px 12px rgba(0, 0, 0, 0.15);
	}

	50% {
		box-shadow:
			0 0 0 3px var(--primary-glow),
			0 6px 16px rgba(0, 0, 0, 0.2);
	}
}

/* Divider interaction animations */
@keyframes divider-hover {
	from {
		background: var(--line);
		box-shadow: none;
		transform: scale(1);
	}

	to {
		background: var(--accent);
		box-shadow: 0 0 12px var(--primary-glow);
		transform: scale(1.1);
	}
}

@keyframes divider-drag-pulse {
	0% {
		box-shadow: 0 0 8px var(--primary-glow);
	}

	50% {
		box-shadow: 0 0 20px var(--primary-glow);
	}

	100% {
		box-shadow: 0 0 8px var(--primary-glow);
	}
}

/* Pane resize smoothing */
@keyframes pane-resize {
	from {
		opacity: 0.9;
	}

	to {
		opacity: 1;
	}
}

/* Empty tile states */
@keyframes empty-tile-appear {
	from {
		opacity: 0;
		transform: scale(0.95);
		border-color: transparent;
	}

	to {
		opacity: 1;
		transform: scale(1);
		border-color: var(--line);
	}
}

@keyframes empty-tile-focus {
	0%,
	100% {
		border-color: var(--accent);
		box-shadow: 0 0 0 2px var(--primary-glow);
	}

	50% {
		border-color: var(--primary-bright);
		box-shadow: 0 0 0 3px var(--primary-glow);
	}
}

@keyframes empty-tile-icon-bounce {
	0%,
	100% {
		transform: scale(1) translateY(0);
	}

	50% {
		transform: scale(1.2) translateY(-4px);
	}
}

/* Window layout transitions */
@keyframes layout-split {
	from {
		opacity: 0;
		transform: scale(0.9);
	}

	to {
		opacity: 1;
		transform: scale(1);
	}
}

@keyframes layout-collapse {
	from {
		opacity: 1;
		transform: scale(1);
	}

	to {
		opacity: 0;
		transform: scale(0.9);
	}
}

/* Keyboard shortcut overlay */
@keyframes shortcut-overlay-appear {
	from {
		opacity: 0;
		transform: translate(-50%, -50%) scale(0.9);
		backdrop-filter: blur(0px);
	}

	to {
		opacity: 1;
		transform: translate(-50%, -50%) scale(1);
		backdrop-filter: blur(8px);
	}
}

@keyframes shortcut-key-highlight {
	from {
		background: var(--bg);
		border-color: var(--line);
		color: var(--text-muted);
	}

	to {
		background: var(--accent);
		border-color: var(--accent);
		color: var(--bg);
		box-shadow: 0 0 8px var(--primary-glow);
	}
}

/* Floating hint animations */
@keyframes hint-float-in {
	from {
		opacity: 0;
		transform: translateY(-10px) scale(0.95);
	}

	to {
		opacity: 1;
		transform: translateY(0) scale(1);
	}
}

@keyframes hint-glow {
	0%,
	100% {
		box-shadow:
			0 0 0 1px var(--primary-glow),
			0 4px 12px rgba(0, 0, 0, 0.2);
	}

	50% {
		box-shadow:
			0 0 0 2px var(--primary-glow),
			0 6px 16px rgba(0, 0, 0, 0.3);
	}
}

/* Responsive layout transitions */
@keyframes mobile-to-desktop {
	from {
		grid-template-columns: 1fr;
		gap: 0;
	}

	to {
		grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
		gap: var(--space-3);
	}
}

@keyframes desktop-to-mobile {
	from {
		grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
		gap: var(--space-3);
	}

	to {
		grid-template-columns: 1fr;
		gap: 0;
	}
}

/* Utility animation classes with performance optimization */
.animate-fade-in {
	animation: fadeIn 0.3s ease-out;
	will-change: opacity;
}

.animate-slide-in {
	animation: slideIn 0.4s cubic-bezier(0.23, 1, 0.32, 1);
	will-change: transform, opacity;
}

.animate-pulse {
	animation: pulse 2s ease-in-out infinite;
	will-change: opacity;
}

.animate-spin {
	animation: spin 1s linear infinite;
	will-change: transform;
}

.animate-glow {
	animation: pulse-dot 2s ease-in-out infinite;
	will-change: box-shadow;
}

.animate-scan {
	animation: scan 2s linear infinite;
	will-change: transform;
}

/* Remove will-change after animation completes for performance */
.animate-fade-in:not(.animating),
.animate-slide-in:not(.animating) {
	will-change: auto;
}

/* Accessibility-friendly alternatives */
@media (prefers-reduced-motion: reduce) {
	/* Disable complex animations, keep essential feedback */
	@keyframes tile-focus-appear {
		from {
			border-color: var(--line);
		}

		to {
			border-color: var(--accent);
		}
	}

	@keyframes divider-hover {
		from {
			background: var(--line);
		}

		to {
			background: var(--accent);
		}
	}

	@keyframes empty-tile-appear {
		from {
			opacity: 0;
		}

		to {
			opacity: 1;
		}
	}

	/* Remove all pulsing and scaling animations */
	@keyframes tile-focus-pulse {
		from,
		to {
			transform: none;
			box-shadow: none;
		}
	}

	@keyframes divider-drag-pulse {
		from,
		to {
			transform: none;
			box-shadow: none;
		}
	}

	@keyframes empty-tile-focus {
		from,
		to {
			transform: none;
			box-shadow: none;
		}
	}

	@keyframes empty-tile-icon-bounce {
		from,
		to {
			transform: none;
			box-shadow: none;
		}
	}

	@keyframes hint-glow {
		from,
		to {
			transform: none;
			box-shadow: none;
		}
	}
}

/* High contrast mode support */
@media (prefers-contrast: high) {
	@keyframes tile-focus-appear {
		from {
			border-color: var(--line);
			border-width: 2px;
		}

		to {
			border-color: var(--accent);
			border-width: 3px;
		}
	}

	@keyframes divider-hover {
		from {
			background: var(--line);
			border: 1px solid transparent;
		}

		to {
			background: var(--accent);
			border: 1px solid var(--text-primary);
		}
	}
}

/* ================================================================
   UTILITY ANIMATION CLASSES
   Apply these to elements for consistent motion
   ================================================================ */

.wm-animate-focus {
	animation: tile-focus-appear 0.2s cubic-bezier(0.23, 1, 0.32, 1) forwards;
}

.wm-animate-divider-hover {
	animation: divider-hover 0.2s cubic-bezier(0.23, 1, 0.32, 1) forwards;
}

.wm-animate-empty-appear {
	animation: empty-tile-appear 0.3s cubic-bezier(0.23, 1, 0.32, 1) forwards;
}

.wm-animate-layout-split {
	animation: layout-split 0.25s cubic-bezier(0.23, 1, 0.32, 1) forwards;
}

.wm-animate-layout-collapse {
	animation: layout-collapse 0.2s cubic-bezier(0.23, 1, 0.32, 1) forwards;
}

.wm-animate-hint-in {
	animation: hint-float-in 0.3s cubic-bezier(0.23, 1, 0.32, 1) 0.5s forwards;
}
