/* ==================================================================
   RETRO TERMINAL THEME - Base HTML Styles

   This file provides DEFAULT STYLING for HTML elements only.
   Component-specific styles belong in component <style> blocks or
   in /components/*.css files.

   Theme: Retro Terminal (Phosphor Green)
   Purpose: Enable dynamic theme switching via CSS custom properties
   ================================================================== */

/* ==================================================================
   1. BASE DOCUMENT
   ================================================================== */

html,
body {
	height: 100%;
	margin: 0;
	background: var(--bg);
	color: var(--text);
	font-family: var(--font-sans);
	font-size: var(--font-size-2);
	line-height: 1.45;
	text-rendering: optimizeLegibility;
	-webkit-font-smoothing: antialiased;
}

/* Media and embeds should never overflow the viewport */
img,
svg,
video,
canvas {
	max-width: 100%;
	height: auto;
}

/* ==================================================================
   2. FOCUS & SELECTION STATES
   ================================================================== */

:focus-visible {
	outline: var(--space-0) solid var(--focus);
	outline-offset: var(--space-0);
}

::selection {
	background: color-mix(in oklab, var(--accent) 30%, transparent);
	color: var(--text);
}

/* ==================================================================
   3. SCROLLBARS - Custom retro terminal styling
   ================================================================== */

* {
	scrollbar-width: thin;
	scrollbar-color: var(--primary) transparent;
}

::-webkit-scrollbar {
	height: 10px;
	width: 10px;
}

::-webkit-scrollbar-thumb {
	background: var(--scrollbar-gradient);
	border-radius: var(--radius-md);
}

::-webkit-scrollbar-track {
	background: transparent;
}

/* ==================================================================
   4. TYPOGRAPHY - Enhanced retro-modern hierarchy
   ================================================================== */

h1,
h2,
h3,
h4,
h5,
h6 {
	font-family: var(--font-mono);
	font-weight: 700;
	letter-spacing: -0.02em;
	margin: var(--space-5) 0 var(--space-3);
	color: var(--text);
	text-transform: uppercase;
}

h1 {
	font-family: var(--font-accent);
	font-size: clamp(var(--space-6), 4vw, var(--space-7));
	letter-spacing: 0.05em;
	text-shadow: 0 0 20px color-mix(in oklab, var(--accent) 30%, transparent);
	user-select: none;
	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
}

h2 {
	font-size: clamp(var(--space-5), 3vw, 36px);
	letter-spacing: 0.02em;
}

h3 {
	font-size: clamp(20px, 2.5vw, 28px);
}

p {
	margin: 0 0 var(--space-4);
	color: var(--text);
	line-height: 1.6;
}

small,
.muted {
	color: var(--muted);
	font-family: var(--font-mono);
	font-size: 0.85em;
}

code,
kbd,
pre,
samp {
	font-family: var(--font-mono);
	font-size: 0.95em;
	background: color-mix(in oklab, var(--surface) 92%, black 8%);
	border: 1px solid var(--line);
	border-radius: var(--radius-sm);
	padding: 0 var(--space-1);
}

pre {
	padding: var(--space-3);
	overflow: auto;
}

/* ==================================================================
   5. LINKS - Default link styling
   ================================================================== */

a {
	color: var(--primary);
	text-decoration: none;
	border-bottom: 1px dotted color-mix(in oklab, var(--primary) 60%, transparent);
}

a:hover {
	text-decoration: underline;
}

/* ==================================================================
   6. FORMS - Comprehensive state management for all input types
   ================================================================== */

input[type='text'],
input[type='search'],
input[type='password'],
input[type='email'],
input[type='url'],
input[type='tel'],
input[type='number'],
select,
textarea {
	width: 100%;
	padding: var(--space-3) var(--space-4);
	font: 500 var(--font-size-2) / 1.2 var(--font-mono);
	background: color-mix(in oklab, var(--surface) 92%, black 8%);
	color: var(--text);
	border: 1px solid var(--line);
	border-radius: var(--radius-md);
	transition:
		border-color 0.15s ease,
		box-shadow 0.15s ease,
		background 0.15s ease,
		color 0.15s ease,
		transform 0.1s ease;
	position: relative;
}

/* Enhanced placeholder styling for better visual hierarchy */
input::placeholder,
textarea::placeholder,
select::placeholder {
	color: var(--muted);
	opacity: 0.6;
	font-style: italic;
}

/* Hover states */
input:hover:not(:disabled):not(:focus),
select:hover:not(:disabled):not(:focus),
textarea:hover:not(:disabled):not(:focus) {
	border-color: color-mix(in oklab, var(--primary) 60%, var(--line));
	background: color-mix(in oklab, var(--surface) 95%, var(--primary) 5%);
}

/* Focus states - Enhanced accessibility */
input:focus,
select:focus,
textarea:focus {
	border-color: var(--primary);
	background: color-mix(in oklab, var(--surface) 98%, var(--primary) 2%);
	box-shadow:
		0 0 0 3px color-mix(in oklab, var(--primary) 30%, transparent),
		inset 0 0 0 1px color-mix(in oklab, var(--primary) 20%, transparent);
	outline: none;
}

/* Enhanced focus-visible for keyboard navigation (WCAG 2.1 AA) */
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
	outline: none;
	border-color: var(--primary);
	box-shadow:
		0 0 0 1px var(--primary),
		0 0 0 4px color-mix(in oklab, var(--primary) 20%, transparent),
		inset 0 0 0 1px color-mix(in oklab, var(--primary) 10%, transparent);
	background: color-mix(in oklab, var(--surface) 98%, var(--primary) 2%);
	transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Active states */
input:active:not(:disabled),
select:active:not(:disabled),
textarea:active:not(:disabled) {
	transform: translateY(0);
}

/* Disabled states */
input:disabled,
select:disabled,
textarea:disabled {
	opacity: 0.5;
	cursor: not-allowed;
	background: color-mix(in oklab, var(--surface) 70%, transparent);
	border-color: color-mix(in oklab, var(--line) 50%, transparent);
	color: var(--muted);
}

/* Invalid states */
input:invalid:not(:focus),
select:invalid:not(:focus),
textarea:invalid:not(:focus) {
	border-color: var(--err);
	background: color-mix(in oklab, var(--surface) 95%, var(--err) 5%);
}

input:invalid:focus,
select:invalid:focus,
textarea:invalid:focus {
	border-color: var(--err);
	box-shadow:
		0 0 0 3px color-mix(in oklab, var(--err) 30%, transparent),
		inset 0 0 0 1px color-mix(in oklab, var(--err) 20%, transparent);
}

/* Valid states (for forms with validation) */
input:valid:not(:placeholder-shown):not(:focus),
select:user-valid:not(:focus),
textarea:valid:not(:placeholder-shown):not(:focus) {
	border-color: var(--primary-bright);
	background: color-mix(in oklab, var(--surface) 98%, var(--ok) 2%);
}

/* Required field indication */
input:required,
select:required,
textarea:required {
	box-shadow: inset var(--space-0) 0 0 color-mix(in oklab, var(--primary) 40%, transparent);
}

input:required:focus,
select:required:focus,
textarea:required:focus {
	box-shadow:
		0 0 0 3px color-mix(in oklab, var(--primary) 30%, transparent),
		inset var(--space-0) 0 0 var(--primary),
		inset 0 0 0 1px color-mix(in oklab, var(--primary) 20%, transparent);
}

/* ==================================================================
   7. BUTTONS - See buttons.css

   All button styles have been moved to:
   src/lib/client/shared/styles/components/buttons.css
   ================================================================== */

/* ==================================================================
   8. TABLES - Default table styling
   ================================================================== */

table {
	width: 100%;
	border-collapse: collapse;
	font-family: var(--font-mono);
	font-size: var(--font-size-1);
	background: var(--surface);
	border: 1px solid var(--line);
	border-radius: var(--radius-md);
	overflow: hidden;
}

thead th {
	text-align: left;
	padding: var(--space-3);
	background: color-mix(in oklab, var(--surface) 80%, black 20%);
	color: var(--accent);
	border-bottom: 1px solid var(--line);
}

tbody td {
	padding: var(--space-3);
	border-top: 1px solid color-mix(in oklab, var(--line), transparent 10%);
}

tbody tr:hover {
	background: color-mix(in oklab, var(--elev) 90%, black 10%);
}

/* ==================================================================
   9. RETRO THEME EFFECTS - CRT/Terminal aesthetic

   These styles are theme-specific and would be replaced/modified
   for alternative themes (e.g., "modern", "light", etc.)
   ================================================================== */

/* Terminal-style glow utility */
.glow {
	text-shadow: 0 0 var(--space-2) var(--glow);
}

/* Terminal-style prompt indicators */
.prompt::before {
	content: '$ ';
	color: var(--accent);
	font-family: var(--font-mono);
	font-weight: 700;
}

/* Enhanced focus states for accessibility and retro feel */
*:focus-visible {
	outline: var(--space-0) solid var(--primary);
	outline-offset: var(--space-0);
	box-shadow: 0 0 0 var(--space-1) color-mix(in oklab, var(--primary) 20%, transparent);
}

/* Subtle body scan lines for retro CRT effect */
body::before {
	content: '';
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background: repeating-linear-gradient(
		0deg,
		transparent 0px,
		transparent var(--space-0),
		color-mix(in oklab, var(--accent) 2%, transparent) 3px,
		transparent var(--space-1)
	);
	pointer-events: none;
	z-index: 1000;
	opacity: 0.3;
	mix-blend-mode: overlay;
}

