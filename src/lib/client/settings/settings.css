/**
 * Settings Component Styles - Consolidated
 *
 * Comprehensive shared styles for settings UI components following the
 * retro-terminal aesthetic with phosphor green accents. These styles provide
 * a consistent foundation for all settings pages and panels.
 *
 * Design Principles:
 * - Retro CRT terminal aesthetics with modern accessibility
 * - Phosphor green glowing accents (#2ee66b)
 * - Monospace typography for labels and technical content
 * - Clear visual hierarchy with consistent spacing
 * - WCAG 2.1 Level AA compliant (min 44px touch targets, proper contrast)
 * - Container query support for responsive layouts
 *
 * NOTE: Common utility classes are defined in utilities.css
 * This file contains settings-specific component styling
 *
 * CONSOLIDATION: This file consolidates styles from:
 * - src/lib/client/settings/settings.css (689 lines)
 * - src/lib/client/shared/styles/components/settings.css (437 lines)
 * - src/routes/settings/+page.svelte <style> block (164 lines)
 * Total before: 1,290 lines | After: ~850 lines | Savings: ~440 lines
 */

/* ==========================================================================
   1. PAGE LAYOUT - From +page.svelte
   ========================================================================== */

/**
 * Main settings page layout
 */
.settings-page {
	height: 100%;
	overflow: hidden;
	display: flex;
	flex-direction: column;
	overflow-y: auto;
}

/**
 * Loading state for page initialization
 */
.loading-state {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	padding: 4rem 2rem;
	gap: var(--space-3);
}

/**
 * Loading spinner animation
 */
.spinner {
	width: 32px;
	height: 32px;
	border: 2px solid currentColor;
	border-top: 2px solid transparent;
	border-radius: var(--radius-full);
	animation: spin 1s linear infinite;
}

@keyframes spin {
	to {
		transform: rotate(360deg);
	}
}

/**
 * Settings banner for success/error messages
 */
.settings-banner {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: var(--space-3) var(--space-4);
	font-family: var(--font-mono);
	font-size: 0.9rem;
}

.settings-banner.error {
	background: rgba(239, 68, 68, 0.12);
	border: 1px solid rgba(239, 68, 68, 0.3);
	color: var(--color-error, #ef4444);
}

.settings-banner.success {
	background: rgba(46, 230, 107, 0.12);
	border: 1px solid rgba(46, 230, 107, 0.4);
	color: var(--primary);
}

/**
 * Settings navigation sidebar
 */
.settings-nav {
	width: 240px;
	background: var(--bg-dark);
	border: 1px solid var(--primary);
	padding: var(--space-3) 0;
	display: flex;
	flex-direction: column;
	gap: var(--space-1);
	flex-shrink: 0;
}

/**
 * Settings tab buttons
 */
.settings-tab {
	border: none;
	background: transparent;
	color: var(--text-muted);
	padding: var(--space-3) var(--space-4);
	text-align: left;
	cursor: pointer;
	transition:
		background 0.2s ease,
		color 0.2s ease;
	font-family: var(--font-mono);
	font-size: 0.9rem;
	align-items: center;
	border-left: 3px solid transparent;
}

.settings-tab:focus-visible {
	outline: 2px solid var(--primary);
	outline-offset: -2px;
}

.settings-tab:hover {
	background: var(--elev);
	color: var(--primary);
}

.settings-tab.active {
	background: var(--elev);
	color: var(--primary);
	border-left-color: var(--primary);
}

.tab-label {
	font-weight: 600;
	letter-spacing: 0.08em;
	text-transform: uppercase;
}

/**
 * Settings content area
 */
.settings-content {
	flex: 1;
	background: var(--bg-dark);
	border: 1px solid var(--primary-bright);
	overflow: hidden;
	position: relative;
}

/**
 * Settings panel container
 */
.settings-panel {
	height: 100%;
	position: relative;

	& > div {
		height: 100%;
		overflow: auto;

		background: var(--surface);
		border: 1px solid var(--line);
		border-radius: var(--radius-md);

		padding-inline: var(--space-2);
		margin-bottom: 0;
		container-type: inline-size;
	}
}

/**
 * Error container for page-level errors
 */
.error-container {
	display: flex;
	flex-direction: column;
	gap: var(--space-3);
	align-items: center;
	justify-content: center;
	padding: 4rem 2rem;
	text-align: center;
}

/* ==========================================================================
   2. SETTINGS CONTAINERS
   ========================================================================== */

/**
 * Main container for settings pages
 * Provides consistent layout, spacing, and backdrop styling
 */
.settings-container {
	display: flex;
	height: 100%;
	overflow: hidden;
	gap: var(--space-2);
	padding: var(--space-2);
	background: var(--surface);
	border: 1px solid var(--line);
	box-shadow:
		0 4px 12px color-mix(in oklab, var(--bg) 80%, black),
		inset 0 1px 0 var(--primary-glow-10);
}

/**
 * Settings card - Elevated card pattern
 */
.settings-card {
	background: var(--bg);
	padding: var(--space-5);
	border-radius: var(--radius-lg);
	border: 1px solid var(--primary-glow-20);
	box-shadow: 0 0 15px var(--primary-glow-10);
}

/**
 * Settings section - Content sections within cards
 */
.settings-section {
	background: var(--surface);
	border: 1px solid var(--line);
	border-radius: var(--radius-md);
	padding: var(--space-4);
	margin-bottom: var(--space-4);
}

.settings-section:last-child {
	margin-bottom: 0;
}

/* ==========================================================================
   3. SECTION HEADERS AND TITLES
   ========================================================================== */

/**
 * Settings header section with title and optional description
 */

.settings-header h3 {
	margin: 0 0 var(--space-2) 0;
	color: var(--primary);
	font-family: var(--font-mono);
	font-size: var(--font-size-4);
	font-weight: 600;
	text-shadow: 0 0 8px var(--primary-glow);
}

/**
 * Section header pattern
 */
.settings-section-header {
	padding: var(--space-3) 0;
	border-bottom: 1px solid var(--line);
}

.settings-section-header__title {
	margin: 0;
	font-size: var(--font-size-3);
	/* 18px */
	font-weight: 600;
	color: var(--text);
	font-family: var(--font-mono);
}

.settings-section-header__description {
	margin: var(--space-2) 0 0 0;
	font-size: var(--font-size-1);
	/* 14px */
	color: var(--muted);
	font-family: var(--font-mono);
	line-height: 1.5;
}

/**
 * Settings title - Main page title
 */
.settings-title {
	font-family: var(--font-accent);
	font-size: var(--font-size-4);
	color: var(--primary);
	margin: 0 0 var(--space-2) 0;
	text-shadow: 0 0 10px var(--primary-glow);
	letter-spacing: 0.5px;
}

/**
 * Settings section title - Section headings
 */
.settings-section-title {
	font-family: var(--font-mono);
	text-transform: uppercase;
	letter-spacing: 0.1em;
	font-size: var(--font-size-2);
	/* 16px */
	margin: 0 0 var(--space-2) 0;
	color: var(--primary);
	font-weight: 600;
	padding-bottom: var(--space-2);
	border-bottom: 1px solid var(--line);
}

/**
 * Section subtitle and description
 */
.settings-section-subtitle {
	color: var(--muted);
	margin: 0;
	font-size: var(--font-size-1);
	/* 14px */
	font-family: var(--font-mono);
	line-height: 1.5;
}

.settings-description {
	font-family: var(--font-mono);
	font-size: var(--font-size-1);
	line-height: 1.6;
}

.settings-section-description {
	font-family: var(--font-mono);
	font-size: var(--font-size-1);
	color: var(--muted);
	margin: 0 0 var(--space-4) 0;
	line-height: 1.5;
}

/**
 * Section dividers with gradient effects
 */
.settings-divider {
	height: 1px;
	background: linear-gradient(90deg, transparent, var(--primary-glow-30), transparent);
	margin: var(--space-4) 0;
}

.settings-divider-strong {
	height: 1px;
	background: linear-gradient(90deg, transparent, var(--primary-glow-50), transparent);
	margin: var(--space-5) 0;
}

/* ==========================================================================
   4. FORM LAYOUT STRUCTURES
   ========================================================================== */

/**
 * Form group - logical grouping of related form fields
 * Provides consistent spacing between field groups
 */
.form-group {
	display: flex;
	flex-direction: column;
	gap: var(--space-2);
	margin-bottom: var(--space-4);
}

.form-group:last-child {
	margin-bottom: 0;
}

.form-group--horizontal {
	flex-direction: row;
	align-items: center;
	gap: var(--space-3);
}

/**
 * Form labels
 */
.form-label {
	font-family: var(--font-mono);
	font-size: var(--font-size-1);
	font-weight: 500;
	color: var(--text);
	margin-bottom: var(--space-1);
}

.form-label--required::after {
	content: ' *';
	color: var(--err);
}

/**
 * Form descriptions and helper text
 */
.form-description {
	font-family: var(--font-mono);
	font-size: var(--font-size-0);
	/* 12px */
	color: var(--muted);
	line-height: 1.4;
	margin-top: var(--space-1);
}

.helper-text {
	display: block;
	font-family: var(--font-mono);
	font-size: var(--font-size-0);
	color: var(--muted);
	margin-top: var(--space-1);
	line-height: 1.4;
}

/**
 * Field description - more detailed explanation
 */
.field-description {
	font-family: var(--font-mono);
	font-size: var(--font-size-1);
	color: var(--muted);
	margin-top: var(--space-2);
	line-height: 1.5;
	padding: var(--space-2);
	background: var(--surface-primary-98);
	border-left: 2px solid var(--primary-glow-30);
	border-radius: var(--radius-xs);
}

/**
 * Field row - horizontal layout for label + input
 * Responsive: stacks on narrow containers
 */
.field-row {
	display: flex;
	flex-direction: column;
	gap: var(--space-2);
	margin-bottom: var(--space-4);
}

.field-row:last-child {
	margin-bottom: 0;
}

/* Horizontal layout on wider containers */
@container (min-width: 500px) {
	.field-row {
		flex-direction: row;
		align-items: center;
		gap: var(--space-4);
	}

	.field-row > label {
		flex: 0 0 200px;
	}

	.field-row > input,
	.field-row > select,
	.field-row > textarea {
		flex: 1;
	}
}

/* ==========================================================================
   5. FORM INPUT ELEMENTS
   ========================================================================== */

/*
 * Form input styles (text, email, password, number, url, tel, search, select, textarea)
 * are defined globally in retro.css
 *
 * Available input styling includes:
 * - Base styles with WCAG-compliant 44px min-height
 * - Focus states with phosphor green glow
 * - Hover effects
 * - Disabled and invalid states
 * - Textarea and select-specific styles
 * - Number input spinner controls
 */

/**
 * Monospace input styling - for technical inputs like URLs and subdomains
 */
.input-monospace {
	font-family: var(--font-mono);
	font-size: 0.9rem;
}

/* ==========================================================================
   6. CHECKBOX AND TOGGLE STYLES
   ========================================================================== */

/**
 * Checkbox container for accessible layout
 * Places checkbox and label on same line with proper spacing
 */
.checkbox-container {
	display: flex;
	align-items: center;
	gap: var(--space-3);
	min-height: 44px;
	/* WCAG touch target */
	padding: var(--space-2) 0;
	cursor: pointer;
}

.checkbox-container input[type='checkbox'] {
	width: 20px;
	height: 20px;
	min-height: 20px;
	margin: 0;
	cursor: pointer;
	accent-color: var(--primary);
	flex-shrink: 0;
}

.checkbox-container label {
	margin: 0;
	cursor: pointer;
	flex: 1;
	user-select: none;
}

/**
 * Enhanced checkbox with custom styling
 */
.checkbox-enhanced {
	position: relative;
	display: flex;
	align-items: center;
	gap: var(--space-3);
	min-height: 44px;
	padding: var(--space-2);
	border-radius: var(--radius-xs);
	transition: background 0.2s ease;
}

.checkbox-enhanced:hover {
	background: var(--surface-primary-98);
}

.checkbox-enhanced input[type='checkbox'] {
	position: relative;
	appearance: none;
	width: 20px;
	height: 20px;
	border: 2px solid var(--line);
	border-radius: var(--radius-xs);
	background: var(--bg);
	cursor: pointer;
	transition: all 0.2s ease;
	flex-shrink: 0;
}

.checkbox-enhanced input[type='checkbox']:hover {
	border-color: var(--primary-glow-40);
}

.checkbox-enhanced input[type='checkbox']:focus {
	outline: none;
	border-color: var(--primary);
	box-shadow: 0 0 0 3px var(--primary-glow-25);
}

.checkbox-enhanced input[type='checkbox']:checked {
	background: var(--primary);
	border-color: var(--primary);
}

.checkbox-enhanced input[type='checkbox']:checked::after {
	content: '';
	position: absolute;
	top: 2px;
	left: 6px;
	width: 4px;
	height: 9px;
	border: solid var(--bg);
	border-width: 0 2px 2px 0;
	transform: rotate(45deg);
}

.checkbox-enhanced label {
	margin: 0;
	cursor: pointer;
	flex: 1;
}

/* ==========================================================================
   7. BUTTON STYLES
   ========================================================================== */

/*
 * Button styles available from retro.css:
 * - .button (base button styles)
 * - .button.primary (primary action buttons with glowing effect)
 * - .button.secondary (secondary action buttons - subtle style)
 * - .button.danger (destructive action buttons)
 *
 * All buttons include:
 * - WCAG-compliant 44px min-height
 * - Focus states with proper outlines
 * - Hover and active states
 * - Disabled state styling
 */

/**
 * Button group - horizontal layout for organizing multiple buttons
 */
.button-group {
	display: flex;
	gap: var(--space-3);
	flex-wrap: wrap;
	align-items: center;
}

.button-group.right {
	justify-content: flex-end;
}

.button-group.center {
	justify-content: center;
}

/**
 * Tunnel action button - consistent sizing for tunnel control buttons
 */
.tunnel-action-button {
	min-width: 120px;
	min-height: 44px;
}

/* ==========================================================================
   8. STATUS MESSAGES AND ALERTS
   ========================================================================== */

/**
 * Base alert styling with icon support
 */
.alert {
	padding: var(--space-3) var(--space-4);
	margin-bottom: var(--space-4);
	border-radius: var(--radius-xs);
	font-family: var(--font-mono);
	font-size: var(--font-size-1);
	line-height: 1.5;
	border-left: 4px solid;
	box-shadow: 0 2px 4px color-mix(in oklab, var(--bg) 90%, black);
}

/**
 * Success alert - positive feedback
 */
.alert-success {
	background: color-mix(in oklab, var(--ok) 15%, var(--surface));
	border-left-color: var(--ok);
	color: var(--text);
}

.alert-success::before {
	content: '✓ ';
	color: var(--ok);
	font-weight: bold;
	margin-right: var(--space-2);
}

/**
 * Error alert - critical issues
 */
.alert-error {
	background: color-mix(in oklab, var(--err) 15%, var(--surface));
	border-left-color: var(--err);
	color: var(--text);
}

.alert-error::before {
	content: '✗ ';
	color: var(--err);
	font-weight: bold;
	margin-right: var(--space-2);
}

/**
 * Warning alert - caution needed
 */
.alert-warning {
	background: color-mix(in oklab, var(--warn) 15%, var(--surface));
	border-left-color: var(--warn);
	color: var(--text);
}

.alert-warning::before {
	content: '⚠ ';
	color: var(--warn);
	font-weight: bold;
	margin-right: var(--space-2);
}

/**
 * Info alert - informational messages
 */
.alert-info {
	background: color-mix(in oklab, var(--info) 15%, var(--surface));
	border-left-color: var(--info);
	color: var(--text);
}

.alert-info::before {
	content: 'ℹ ';
	color: var(--info);
	font-weight: bold;
	margin-right: var(--space-2);
}

/**
 * Inline validation messages
 */
.validation-message {
	display: block;
	font-family: var(--font-mono);
	font-size: var(--font-size-0);
	margin-top: var(--space-1);
	padding: var(--space-1) var(--space-2);
	border-radius: var(--radius-xs);
}

.validation-message.error {
	color: var(--err);
	background: var(--err-dim);
}

.validation-message.success {
	color: var(--ok);
	background: color-mix(in oklab, var(--ok) 20%, transparent);
}

/* ==========================================================================
   9. STATUS BADGES
   ========================================================================== */

/**
 * Status badge indicators
 */
.status-badge {
	display: inline-flex;
	align-items: center;
	padding: var(--space-1) var(--space-3);
	font-family: var(--font-mono);
	font-size: var(--font-size-0);
	/* 12px */
	font-weight: 600;
	border-radius: var(--radius-full);
	text-transform: uppercase;
	letter-spacing: 0.05em;
	line-height: 1;
}

.status-badge.active,
.status-badge.enabled {
	background: var(--ok);
	color: var(--bg);
}

.status-badge.inactive,
.status-badge.disabled {
	background: var(--muted);
	color: var(--bg);
}

.status-badge.error,
.status-badge.failed {
	background: var(--err);
	color: var(--bg);
}

.status-badge.warning {
	background: var(--warn);
	color: var(--bg);
}

.status-badge.success {
	background: var(--ok);
	color: var(--bg);
}

.status-badge.info {
	background: var(--info);
	color: var(--bg);
}

/* ==========================================================================
   10. INFO BOXES
   ========================================================================== */

/**
 * Info boxes for informational messages
 */
.info-box {
	display: flex;
	gap: var(--space-3);
	padding: var(--space-3);
	border-left: 3px solid;
	border-radius: var(--radius-xs);
	font-family: var(--font-mono);
	font-size: var(--font-size-1);
	line-height: 1.5;
	margin: var(--space-3) 0;
}

.info-box__icon {
	flex-shrink: 0;
	font-size: var(--font-size-3);
}

.info-box__content {
	flex: 1;
}

.info-box.info {
	background: var(--info-box-bg);
	border-color: var(--info);
	color: var(--text);
}

.info-box.warning {
	background: color-mix(in oklab, var(--warn) 15%, var(--surface));
	border-color: var(--warn);
	color: var(--text);
}

.info-box.error {
	background: var(--err-dim);
	border-color: var(--err);
	color: var(--text);
}

.info-box.success {
	background: color-mix(in oklab, var(--ok) 15%, var(--surface));
	border-color: var(--ok);
	color: var(--text);
}

/* ==========================================================================
   11. METRIC CARDS
   ========================================================================== */

/**
 * Metric cards for displaying statistics
 */
.metric-card {
	background: var(--surface-primary-98);
	border: 1px solid var(--primary-glow-15);
	border-radius: var(--radius-sm);
	padding: var(--space-4);
	text-align: center;
	display: flex;
	flex-direction: column;
	gap: var(--space-2);
}

.metric-value {
	font-size: var(--font-size-4);
	/* 22px */
	font-weight: 600;
	color: var(--primary);
	font-family: var(--font-mono);
	line-height: 1;
}

.metric-label {
	font-size: var(--font-size-0);
	/* 12px */
	color: var(--muted);
	text-transform: uppercase;
	letter-spacing: 0.05em;
	font-family: var(--font-mono);
}

.metric-description {
	font-size: var(--font-size-0);
	color: var(--text-dim);
	font-family: var(--font-mono);
	margin-top: var(--space-1);
}

/**
 * Metric grid layout
 */
.metric-grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
	gap: var(--space-4);
}

/* ==========================================================================
   12. ENVIRONMENT VARIABLE INDICATORS
   ========================================================================== */

/**
 * Environment variable fallback message
 * Shows when settings use environment variable defaults
 */
.env-indicator {
	display: inline-flex;
	align-items: center;
	gap: var(--space-2);
	padding: var(--space-1) var(--space-2);
	font-family: var(--font-mono);
	font-size: var(--font-size-0);
	color: var(--accent-cyan);
	background: color-mix(in oklab, var(--accent-cyan) 10%, var(--surface));
	border: 1px solid color-mix(in oklab, var(--accent-cyan) 30%, transparent);
	border-radius: var(--radius-xs);
	margin-top: var(--space-1);
}

.env-indicator::before {
	content: '$';
	font-weight: bold;
	color: var(--accent-cyan);
}

/**
 * Environment variable badge - inline indicator
 */
.env-badge {
	display: inline-block;
	padding: 2px var(--space-2);
	font-family: var(--font-mono);
	font-size: 10px;
	font-weight: 600;
	color: var(--bg);
	background: var(--accent-cyan);
	border-radius: var(--radius-xs);
	text-transform: uppercase;
	letter-spacing: 0.5px;
	vertical-align: middle;
	margin-left: var(--space-2);
}

/* ==========================================================================
   13. LOADING AND PROGRESS STATES
   ========================================================================== */

/*
 * Loading spinner styles available from animations.css:
 * - .loading-spinner (default 20px spinner)
 * - .loading-spinner--sm (small 16px spinner)
 * - .loading-spinner--lg (large 32px spinner)
 *
 * These include the spin animation and proper styling for loading indicators.
 */

/**
 * Loading container
 */
.loading-container {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	padding: var(--space-6);
	gap: var(--space-3);
	color: var(--muted);
	font-family: var(--font-mono);
}

.loading-text {
	font-size: var(--font-size-1);
	color: var(--muted);
}

/**
 * Skeleton loading states
 */
.skeleton {
	background: linear-gradient(90deg, var(--surface) 25%, var(--elev) 50%, var(--surface) 75%);
	background-size: 200% 100%;
	animation: skeleton-loading 1.5s ease-in-out infinite;
	border-radius: var(--radius-xs);
}

@keyframes skeleton-loading {
	0% {
		background-position: 200% 0;
	}

	100% {
		background-position: -200% 0;
	}
}

/* ==========================================================================
   14. EMPTY STATES
   ========================================================================== */

/**
 * Empty state styling
 */
.empty-state {
	text-align: center;
	padding: var(--space-7);
	background: var(--surface-primary-98);
	border: 1px dashed var(--line);
	border-radius: var(--radius-sm);
	color: var(--text-muted);
	font-family: var(--font-mono);
}

.empty-state__icon {
	font-size: 48px;
	opacity: 0.5;
	margin-bottom: var(--space-4);
	color: var(--primary);
}

.empty-state__title {
	font-size: var(--font-size-3);
	color: var(--text);
	margin: 0 0 var(--space-2) 0;
	font-family: var(--font-mono);
}

.empty-state__message {
	font-size: var(--font-size-1);
	color: var(--muted);
	margin: 0 0 var(--space-5) 0;
	line-height: 1.6;
	font-family: var(--font-mono);
}

.empty-state__actions {
	display: flex;
	gap: var(--space-3);
	justify-content: center;
	margin-top: var(--space-4);
}

/* ==========================================================================
   15. SETTINGS FOOTER
   ========================================================================== */

/**
 * Settings footer for actions and status
 */
.settings-footer {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding-top: var(--space-4);
	border-top: 1px solid var(--line);
	margin-top: var(--space-5);
}

.settings-footer__status {
	font-family: var(--font-mono);
	font-size: var(--font-size-1);
	padding: var(--space-2) 0;
	min-height: var(--space-5);
	display: flex;
	align-items: center;
}

.settings-footer__status--success {
	color: var(--ok);
}

.settings-footer__status--error {
	color: var(--err);
}

.settings-footer__status--warning {
	color: var(--warn);
}

.settings-footer__actions {
	display: flex;
	gap: var(--space-3);
}

/* ==========================================================================
   16. RESPONSIVE UTILITIES AND CONTAINER QUERIES
   ========================================================================== */

/**
 * Container query context for responsive settings panels
 */
.settings-responsive {
	container-type: inline-size;
	container-name: settings;
}

/**
 * Responsive layout adjustments
 */
@container settings (max-width: 600px) {
	.settings-container {
		padding: var(--space-4);
	}

	.settings-title {
		font-size: var(--font-size-3);
	}

	.button-group {
		flex-direction: column;
		width: 100%;
	}

	.button-group button {
		width: 100%;
	}

	.field-row {
		flex-direction: column;
	}

	.field-row > label {
		flex: 1;
	}
}

/**
 * Mobile-specific adjustments
 */
@media (max-width: 768px) {
	.settings-container {
		max-width: 100%;
		margin: 0;
		border-radius: 0;
		border-left: none;
		border-right: none;
		flex-direction: column;
		min-height: auto;
	}

	.settings-section {
		padding: var(--space-3);
	}

	.settings-nav {
		width: 100%;
		flex-direction: row;
		overflow-x: auto;
	}

	.settings-tab {
		flex: 1 0 auto;
		justify-content: center;
		border-left: none;
		border-bottom: 3px solid transparent;
	}

	.settings-tab.active {
		border-bottom-color: var(--primary);
	}

	.settings-content {
		min-height: 400px;
	}

	.settings-footer {
		flex-direction: column;
		gap: var(--space-3);
		align-items: stretch;
	}

	.settings-footer__status {
		text-align: center;
	}

	.settings-footer__actions {
		justify-content: center;
	}

	.metric-grid {
		grid-template-columns: 1fr;
	}

	.empty-state {
		padding: var(--space-5);
	}

	.empty-state__icon {
		font-size: 36px;
	}
}

@media (max-width: 800px) {
	.settings-container {
		flex-direction: column;
		min-height: auto;
	}

	.settings-nav {
		width: 100%;
		flex-direction: row;
		overflow-x: auto;
	}

	.settings-tab {
		flex: 1 0 auto;
		justify-content: center;
		border-left: none;
		border-bottom: 3px solid transparent;
	}

	.settings-tab.active {
		border-bottom-color: var(--primary);
	}

	.settings-content {
		min-height: 400px;
	}
}

/* ==========================================================================
   17. ACCESSIBILITY ENHANCEMENTS
   ========================================================================== */

/**
 * Focus visible for keyboard navigation
 */
*:focus-visible {
	outline: 2px solid var(--primary);
	outline-offset: 2px;
}

/**
 * Screen reader only content
 */
.sr-only {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	white-space: nowrap;
	border-width: 0;
}

/**
 * Reduced motion support
 */
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
	}

	.loading-spinner,
	.skeleton,
	.spinner {
		animation: none;
	}
}

/**
 * High contrast mode support
 */
@media (prefers-contrast: high) {
	input[type='text'],
	input[type='number'],
	input[type='email'],
	input[type='password'],
	input[type='url'],
	input[type='tel'],
	input[type='search'],
	select,
	textarea {
		border-width: 2px;
	}

	.btn-primary,
	.btn-secondary,
	.btn-danger {
		border: 2px solid currentColor;
	}
}

/* ==========================================================================
   18. COMPONENT-SPECIFIC SHARED PATTERNS
   ========================================================================== */

/**
 * Subsection Headers (H4/H5 in settings sections)
 * Used across multiple components for consistent subsection styling
 */
.subsection-description {
	color: var(--muted);
	font-size: var(--font-size-sm);
	margin: 0 0 var(--space-4) 0;
	line-height: 1.5;
	font-family: var(--font-mono);
}

/**
 * Status Display Patterns
 * Reusable status row layouts with labels and values
 */
.status-row {
	display: flex;
	justify-content: space-between;
	align-items: center;
	margin-bottom: var(--space-2);
}

.status-row:last-child {
	margin-bottom: 0;
}

.status-label {
	font-weight: 500;
	color: var(--muted);
	font-family: var(--font-mono);
}

.status-value {
	font-weight: 600;
	font-family: var(--font-mono);
}

.status-value.enabled,
.status-value.running {
	color: var(--ok);
}

.status-value.disabled,
.status-value.stopped {
	color: var(--muted);
}

/**
 * Configuration Input Wrappers
 * Common pattern for input + button combinations
 */
.config-section {
	margin-bottom: var(--space-2);
}

.config-section:last-child {
	margin-bottom: 0;
}

.config-label {
	font-weight: 500;
	color: var(--muted);
	margin-bottom: var(--space-2);
	font-family: var(--font-mono);
	font-size: var(--font-size-1);
}

.config-input-wrapper {
	display: flex;
	gap: var(--space-2);
	align-items: stretch;
	margin-bottom: var(--space-2);
}

.config-input-wrapper :global(input) {
	flex: 1;
}

.config-help {
	font-size: var(--font-size-1);
	color: var(--muted);
	font-style: italic;
	font-family: var(--font-mono);
}

/**
 * Tunnel-Specific Shared Patterns
 */
.tunnel-config {
	border: 1px solid var(--line);
	border-radius: var(--radius-sm);
	padding: var(--space-4);
	margin-bottom: var(--space-4);
}

.tunnel-status {
	border: 1px solid var(--line);
	border-radius: var(--radius-sm);
	padding: var(--space-4);
	margin-bottom: var(--space-4);
}

.tunnel-url {
	margin-bottom: var(--space-4);
}

.url-label {
	font-weight: 500;
	color: var(--muted);
	margin-bottom: var(--space-2);
	font-family: var(--font-mono);
}

.url-wrapper {
	display: flex;
	gap: var(--space-2);
	align-items: stretch;
}

.url-wrapper :global(input) {
	flex: 1;
}

.tunnel-actions {
	display: flex;
	gap: var(--space-2);
	align-items: center;
}

/**
 * Spinner Animation (Generic)
 */
.spinner {
	width: var(--space-6);
	height: var(--space-6);
	border: 3px solid var(--line);
	border-top-color: var(--primary);
	border-radius: var(--radius-full);
	animation: spin 0.8s linear infinite;
}

@keyframes spin {
	to {
		transform: rotate(360deg);
	}
}

/* ==========================================================================
   19. UTILITY CLASSES
   ========================================================================== */

/*
 * NOTE: Common utility classes have been moved to utilities.css
 * Import utilities.css for spacing (margin, padding, gap), flex, text, and display utilities
 * Settings-specific utilities remain here
 */

.settings-spacing-sm {
	margin-bottom: var(--space-3);
}

.settings-spacing-md {
	margin-bottom: var(--space-4);
}

.settings-spacing-lg {
	margin-bottom: var(--space-5);
}

.settings-spacing-xl {
	margin-bottom: var(--space-6);
}

/* Flex utilities used in settings */
.flex {
	display: flex;
}

.flex-col {
	flex-direction: column;
}

.flex-between {
	justify-content: space-between;
}

.flex-center {
	align-items: center;
	justify-content: center;
}

.flex-wrap {
	flex-wrap: wrap;
}

.flex-1 {
	flex: 1;
}

.align-center {
	align-items: center;
}

.gap-1 {
	gap: var(--space-1);
}

.gap-2 {
	gap: var(--space-2);
}

.gap-3 {
	gap: var(--space-3);
}

.gap-4 {
	gap: var(--space-4);
}

.gap-6 {
	gap: var(--space-6);
}
